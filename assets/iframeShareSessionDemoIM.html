<!DOCTYPE html>
<html lang="ES" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta name="Description" content="BBVA Net cash - Redirect" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=11;IE=edge" />
    <meta http-equiv="Cache-control" content="no-cache" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="robots" content="nofollow, noindex" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes"
    />

    <title>BBVA Net Share - Session</title>
    <style>
      .row {
        margin-bottom: 1em;
        margin-left: 10px;
      }
      #success-btn {
        margin-left: 30px;
        margin-top: 20px;
      }
      #fail-btn {
        margin-left: 30px;
        margin-top: 20px;
      }
      .output-messages {
        margin-top: 20px;
        margin-left: 30px;
        margin-right: 40px;
      }
    </style>
    <script>
      window.IntlMsg = window.IntlMsg || {};
      window.IntlMsg.lang = 'es-ES';

      // the app identificator, must match with the provided from the parent
      const aap = '10000207';
      // the origin identificator, must match with the provided from the parent
      const loginCoexistenceOrigin = 'http://localhost:8003';
      // 'https://qa-bbva-cells-files.s3.amazonaws.com';
      // to store the information of the userContext, this variable depends on
      // the configuration of the userContext,, example: for mx 'senda-mx-context'
      const bbvaBtgeLoginUserInfo = 'senda-mx-context';
    </script>
    <script src="./iframeShareSessionIM.js"></script>
  </head>

  <body aria-hidden="true">
    <div class="row align-items-start">
      <div class="row">
        <div class="col">
          <button
            id="success-btn"
            type="button"
            class="btn btn-outline-success btn-block"
          >
            OK
          </button>
          <button
            id="fail-btn"
            type="button"
            class="btn btn-outline-danger btn-block"
          >
            KO
          </button>
        </div>
        <div>
          <img id="track" width="1" height="1" style="display: none" />
          <div id="output"></div>   
          <div class="output">
          <div id="status"></div>
        </div>
        </div>
      </div>
    </div>
   
    <!--
      <script>
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('../service-worker.js', {scope: './'}).then(function() {
          // Registration was successful. Now, check to see whether the service worker is controlling the page.
          if (navigator.serviceWorker.controller) {
            // If .controller is set, then this page is being actively controlled by the service worker.
            document.querySelector('#status').textContent =
              'This funky font has been cached by the controlling service worker.';
          } else {
            // If .controller isn't set, then prompt the user to reload the page so that the service worker can take
            // control. Until that happens, the service worker's fetch handler won't be used.
            document.querySelector('#status').textContent =
              'Please reload this page to allow the service worker to handle network operations.';
          }
        }).catch(function(error) {
          // Something went wrong during registration. The service-worker.js file
          // might be unavailable or contain a syntax error.
          document.querySelector('#status').textContent = error;
        });
      } else {
        // The current browser doesn't support service workers.
        var aElement = document.createElement('a');
        aElement.href = 'http://www.chromium.org/blink/serviceworker/service-worker-faq';
        aElement.textContent = 'Service workers are not supported in the current browser.';
        document.querySelector('#status').appendChild(aElement);
      }
    </script>
    -->
    
    <!--
    <script>
      document.getElementById('storeButton').addEventListener('click', () => {
        const worker = new Worker('service-worker.js');
        worker.postMessage({
          action: 'storeData',
          data: 'Datos importantes para almacenar',
        });

        worker.onmessage = function (event) {
          console.log('Datos almacenados en caché');
          worker.terminate();
        };
      });

      document
        .getElementById('retrieveButton')
        .addEventListener('click', () => {
          const worker = new Worker('service-worker.js');
          worker.postMessage({ action: 'retrieveData' });

          worker.onmessage = function (event) {
            document.getElementById('output').textContent = JSON.stringify(
              event.data
            );
            worker.terminate();
          };
        });
    </script>
   -->
    
    <!-- <script>
      if ('serviceWorker' in navigator) {
        // Registra el Service Worker
        navigator.serviceWorker
          .register('service-worker.js')
          .then(function (registration) {
            console.log('Service Worker registrado con éxito:', registration);
          })
          .catch(function (error) {
            console.log('Error al registrar el Service Worker:', error);
          });
      }
    </script> -->
  </body>
</html>
